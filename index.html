<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome</title>
  <style>
    :root{ --bg-start:#4f3fa2; --bg-mid:#6041a0; --bg-end:#7a3e7b; }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: system-ui, Arial, sans-serif; }
    body {
      background:
        radial-gradient(1200px 800px at 15% 20%, rgba(255,255,255,0.06), transparent 60%),
        linear-gradient(135deg, var(--bg-start), var(--bg-mid) 55%, var(--bg-end));
      color: #fff; display: grid; place-items: center; padding: 24px;
    }
    .card { width: min(560px, 92vw); background: rgba(0,0,0,0.35); backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.12); border-radius: 16px; padding: 28px; text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.35); }
    .logo-wrap { display:flex; justify-content:center; margin-bottom:16px; }
    .logo { width: 140px; max-width: 60%; height: auto; object-fit: contain; }
    h1 { margin: 8px 0; font-size: clamp(28px, 4vw, 44px); }
    p  { margin: 0 0 24px; opacity: 0.9; font-size: 1.1rem; }
    .btn { display: inline-block; padding: 12px 22px; border-radius: 10px; background: #ffffff; color: #3f2ea8;
      text-decoration: none; font-weight: 600; transition: transform .15s ease, box-shadow .15s ease;
      box-shadow: 0 6px 16px rgba(0,0,0,.25); cursor: pointer; }
    .btn:hover { transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }

    /* Form */
    #loginForm { display: none; margin-top: 20px; text-align: left; }
    #loginForm input {
      width: 100%; padding: 10px; margin: 8px 0; border-radius: 6px; border: none;
    }
    .row { display:grid; gap:10px; grid-template-columns: 1fr 1fr; }
    .hint { font-size: 12px; opacity:.85; margin-top:6px; }
    .err { color:#ffb3b3; display:none; margin-top:6px; }
    .sep { height:1px; background:rgba(255,255,255,.18); margin:16px 0; }

    @media (max-width:520px){ .row{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <main class="card">
    <div class="logo-wrap">
      <img src="logo.png" alt="Realty Assistant logo" class="logo" />
    </div>

    <h1 id="greeting">Welcome!</h1>
    <p>We are now ready to present the agent performance.</p>

    <button class="btn" id="continueBtn" onclick="showLogin()">CLICK TO CONTINUE</button>

    <!-- Login form (username + password only) -->
    <form id="loginForm" onsubmit="return handleLogin(event)">
      <div class="row">
        <div>
          <label for="username">Login ID</label>
          <input type="text" id="username" placeholder="username" autocomplete="username" required>
        </div>
        <div>
          <label for="password">Password</label>
          <input type="password" id="password" placeholder="Enter password" autocomplete="current-password" required>
        </div>
      </div>

      <div class="sep"></div>
      <button type="submit" class="btn">Login</button>
      <div id="errorMsg" class="err">Invalid credentials</div>

      <div class="hint">
      </div>
    </form>
  </main>

  <script>
    /* ---------- Greeting ---------- */
    (function setGreeting() {
      const hour = new Date().getHours();
      const el = document.getElementById("greeting");
      if (hour >= 5 && hour < 12) el.textContent = "Good Morning, Realty Assistant Team!";
      else if (hour >= 12 && hour < 17) el.textContent = "Good Afternoon, Realty Assistant Team!";
      else el.textContent = "Good Evening, Realty Assistant Team!";
    })();

    function showLogin(){
      document.getElementById("continueBtn").style.display = "none";
      document.getElementById("loginForm").style.display = "block";
      setTimeout(()=>document.getElementById('username').focus(), 50);
    }

    const norm = s => (s||'').toString().trim().toUpperCase();

    /* ---------- Users (role auto-detect) ---------- */
    const USERS = {
      // Admin
      "MOHIT.MITTAL": { password: "Mohit@123", role: "admin" },

      "JAYESH.JAISWAL": { password: "Pritam@123" ,role: "FOS"},
"MOHAMMAD.RAHIB": { password: "Pritam@123" ,role: "FOS"},
"RESHMA.MALI": { password: "Pritam@123" ,role: "FOS"},
"SHOEB.SHAH": { password: "Pritam@123" ,role: "FOS"},
"SHUBHAM.VISHWAKARMA": { password: "Pritam@123" ,role: "FOS"},
"MUKESH.YADAV": { password: "Pritam@123" ,role: "FOS"},
"VISHAL.TOMAR": { password: "Pritam@123" ,role: "FOS"}
    };

    function handleLogin(e){
      e.preventDefault();
      const u = norm(document.getElementById('username').value);
      const p = document.getElementById('password').value;

      const showErr = (msg="Invalid credentials")=>{
        const el = document.getElementById('errorMsg'); el.textContent=msg; el.style.display='block';
      };

      const rec = USERS[u];
      if(rec && rec.password === p){
        // Save for dashboard
        sessionStorage.setItem("auth", JSON.stringify({ role: rec.role, name: u }));
        location.href = "dashboard.html";
      } else {
        showErr("Invalid Login ID or Password");
      }
      return false;
    }

    // Auto-redirect if already logged in
    (function(){
      try{
        const auth = JSON.parse(sessionStorage.getItem('auth') || 'null');
        if(auth){ location.href = 'dashboard.html'; }
      }catch{}
    })();
  </script>
</body>
</html>
